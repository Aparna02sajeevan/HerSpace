<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Space | Healing Audio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Quicksand', sans-serif;
            background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
        }

        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Custom Scrollbar for the long list */
        .custom-scroll::-webkit-scrollbar { width: 5px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px; }

        .pulse-soft { animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
    </style>
</head>

<body class="min-h-screen flex items-center justify-center p-4">

    <div class="max-w-2xl w-full">
        
        <header class="text-center mb-8">
            <h2 class="text-3xl font-light text-white/90 tracking-widest uppercase">Deep Healing</h2>
            <p id="affirmation" class="text-blue-300/80 text-sm mt-2 pulse-soft italic">Just exist here for a while.</p>
        </header>

        <div class="glass rounded-[3rem] p-6 md:p-10 shadow-2xl relative overflow-hidden">
            
            <div class="flex justify-between items-center mb-8 border-b border-white/10 pb-6">
                <div class="text-left">
                    <p class="text-xs font-bold text-white/40 uppercase tracking-widest">Now Experiencing</p>
                    <p id="nowPlaying" class="text-lg text-blue-100 font-medium">Silence & Stillness</p>
                </div>
                <div class="flex gap-2">
                    <button onclick="stopAll()" class="p-3 bg-white/5 hover:bg-white/10 text-white rounded-full transition active:scale-90">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
            </div>

            <div class="space-y-3 max-h-[400px] overflow-y-auto pr-4 custom-scroll" id="trackList">
                </div>

            <div class="mt-8 h-1 w-full bg-white/10 rounded-full overflow-hidden">
                <div id="visualizer" class="h-full bg-blue-400 w-0 transition-all duration-500"></div>
            </div>
        </div>

        <footer class="text-center mt-8 text-white/30 text-[10px] tracking-[0.3em] uppercase">
            Ambient Soundscape • No thoughts, just audio
        </footer>
    </div>

    <script>
        // Track list - Simplified names, many songs
        const songs = [
            { name: "01. Floating in the Blue", file: "audio/track1.mp3" },
            { name: "02. After the Storm", file: "audio/track2.mp3" },
            { name: "03. Gentle Descent", file: "audio/track3.mp3" },
            { name: "04. Night Sky Echoes", file: "audio/track4.mp3" },
            { name: "05. Warm Embers", file: "audio/track5.mp3" },
            { name: "06. Underwater Sunlight", file: "audio/track6.mp3" },
            { name: "07. Midnight Meadow", file: "audio/track7.mp3" },
            { name: "08. The Weight of Clouds", file: "audio/track8.mp3" },
            { name: "09. Slow Breath", file: "audio/track9.mp3" },
            { name: "10. Eternal Horizon", file: "audio/track10.mp3" }
        ];

        const trackListContainer = document.getElementById('trackList');
        const nowPlayingText = document.getElementById('nowPlaying');
        const visualizer = document.getElementById('visualizer');
        let audioObjects = [];

        // Generate the UI for each song
        songs.forEach((song, index) => {
            const trackDiv = document.createElement('div');
            trackDiv.className = "flex flex-col gap-2 p-4 rounded-2xl bg-white/5 hover:bg-white/10 transition group cursor-pointer border border-transparent hover:border-white/10";
            
            trackDiv.innerHTML = `
                <div class="flex justify-between items-center mb-2" onclick="playSingle(${index})">
                    <span class="text-white/70 font-medium">${song.name}</span>
                    <span class="text-blue-400 opacity-0 group-hover:opacity-100 transition">▶</span>
                </div>
                <audio id="audio-${index}" class="w-full h-8 opacity-40 hover:opacity-100 transition" controls>
                    <source src="${song.file}" type="audio/mpeg">
                </audio>
            `;
            
            trackListContainer.appendChild(trackDiv);
            
            const audioElem = document.getElementById(`audio-${index}`);
            audioObjects.push(audioElem);

            // Audio Events
            audioElem.onplay = () => {
                stopOthers(audioElem);
                nowPlayingText.innerText = song.name;
                visualizer.style.width = ((index + 1) / songs.length * 100) + "%";
            };
        });

        function stopOthers(current) {
            audioObjects.forEach(audio => {
                if (audio !== current) {
                    audio.pause();
                    audio.currentTime = 0;
                }
            });
        }

        function playSingle(index) {
            audioObjects[index].play();
        }

        function stopAll() {
            audioObjects.forEach(audio => {
                audio.pause();
                audio.currentTime = 0;
            });
            nowPlayingText.innerText = "Silence & Stillness";
            visualizer.style.width = "0%";
        }
    </script>
</body>
</html>